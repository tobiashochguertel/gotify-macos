# act configuration file for Colima on Apple Silicon
# This configures act to work with Colima Docker backend

# Use medium runner by default (balance between size and tools)
-P ubuntu-latest=catthehacker/ubuntu:act-latest
-P ubuntu-22.04=catthehacker/ubuntu:act-22.04
-P ubuntu-20.04=catthehacker/ubuntu:act-20.04

# For more comprehensive testing, use full runners (18GB+ each)
# Uncomment these lines if you need the exact same environment as GitHub
#-P ubuntu-latest=catthehacker/ubuntu:full-latest
#-P ubuntu-22.04=catthehacker/ubuntu:full-22.04

# Windows and macOS runners (only work on respective platforms)
-P windows-latest=catthehacker/ubuntu:act-latest
-P macos-latest=catthehacker/ubuntu:act-latest
-P macos-13=catthehacker/ubuntu:act-latest
-P macos-14=catthehacker/ubuntu:act-latest

# Set artifact server path for local testing
--artifact-server-path /tmp/artifacts

# Container architecture for Apple Silicon compatibility
--container-architecture linux/amd64

# Docker daemon socket for Colima compatibility
--container-daemon-socket /Users/tobiashochguertel/.colima/docker/docker.sock

# Network configuration for better Colima compatibility
--use-gitignore=false